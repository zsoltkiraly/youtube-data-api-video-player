function getWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function findAncestor(a,b){for(;(a=a.parentElement)&&!a.classList.contains(b););return a}function convertTime(a){var b=a.match(/\d+/g);return a.indexOf("M")>=0&&-1==a.indexOf("H")&&-1==a.indexOf("S")&&(b=[0,b[0],0]),a.indexOf("H")>=0&&-1==a.indexOf("M")&&(b=[b[0],0,b[1]]),a.indexOf("H")>=0&&-1==a.indexOf("M")&&-1==a.indexOf("S")&&(b=[b[0],0,0]),a=0,3==b.length&&(a+=3600*parseInt(b[0]),a+=60*parseInt(b[1]),a+=parseInt(b[2])),2==b.length&&(a+=60*parseInt(b[0]),a+=parseInt(b[1])),1==b.length&&(a+=parseInt(b[0])),a}function secondsToHms(a){a=Number(a),h=Math.floor(a/3600),m=Math.floor(a%3600/60),s=Math.floor(a%3600%60);var b=h>0?h+(1==h,":"):"",c=m>0?m+(1==m,":"):"",d=s>0?s+(1==s,""):"";return b+c+d}function error(a){a.querySelector(".video-wrapper").classList.add("error-video"),a.querySelector(".video-wrapper .play-and-info-contet .content").innerHTML="A videó nem érhető el"}function loading(){var a=document.querySelectorAll(".youtube-video-player");forEach(a,function(a,b){setTimeout(function(){b.classList.remove("show"),setTimeout(function(){b.classList.remove("loading")},1e3)},1e3)})}var forEach=function(a,b,c){var d=0,e=a.length;if(e>0)for(;e>d;d++)b.call(c,d,a[d])},getJSON=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="json",c.onload=function(){var a=c.status;200===a?b(null,c.response):b(a,c.response)},c.send()},youtubeDOM=function(){function a(){if(window.console){const a={black:"%c     ",blue:"%c   ",author:"%c  Zsolt Király  ",github:"%c  https://zsoltkiraly.com/"},b={black:"background: #282c34",blue:"background: #61dafb",author:"background: black; color: white",github:""};console.log(a.black+a.blue+a.author+a.github,b.black,b.blue,b.author,b.github)}}function b(){var a=document.querySelectorAll('iframe[src*="//www.youtube.com"]:not(.teka-iframe)');forEach(a,function(a,b){var c=document.createElement("SECTION");c.setAttribute("class","youtube-video-player loading show"),c.innerHTML='<div class="video-wrapper"><div class="video-content"><div class="background-img"></div><div class="black"></div><div class="iframe"><iframe class="teka-iframe" width="'+b.getAttribute("width")+'" height="'+b.getAttribute("height")+'" src="'+b.getAttribute("src")+'"  frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe></div></div><div class="play-and-info-contet"> <div class="content"> <div class="play"><i class="icon"></i></div><div class="text-content"><div class="video">Videó</div><div class="title"></div><div class="duration"></div></div></div></div></div>',b.parentNode.insertBefore(c,b.nextSibling),b.parentElement.removeChild(b)});var b=document.querySelectorAll(".youtube-video-player");forEach(b,function(a,b){var c=11,d=b.querySelector(".video-wrapper .video-content .iframe iframe").getAttribute("src");if(d){var e=d.slice(d.length-c,d.length);if(e){var f="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+e+"&key=AIzaSyDRIcdO49yFFr-vDpRXDa3TvnLA_ansu8s";urlDuration="https://www.googleapis.com/youtube/v3/videos?id="+e+"&part=contentDetails&key=AIzaSyDRIcdO49yFFr-vDpRXDa3TvnLA_ansu8s"}}getJSON(f,function(a,c){if(c.pageInfo.totalResults>0){if(null==a){var d=c.items[0].snippet.title;d&&(b.querySelector(".video-wrapper .play-and-info-contet .text-content .title").innerHTML=d);var e="",f=c.items[0].snippet.thumbnails;f&&(f.maxres?e=f.maxres.url:f.standard?e=f.standard.url:f.high?e=f.high.url:f.medium?e=f.medium.url:f["default"]&&(e=f["default"].url)),b.querySelector(".video-content .background-img").style.backgroundImage="url("+e+")"}}else error(b)}),getJSON(urlDuration,function(a,c){if(c.pageInfo.totalResults>0){if(null==a){var d=secondsToHms(convertTime(c.items[0].contentDetails.duration));d&&(b.querySelector(".video-wrapper .play-and-info-contet .text-content .duration").innerHTML=d)}}else error(b)}),b.querySelector(".video-wrapper").setAttribute("video-id",e)})}return a(),{app:b}}(),responsiveIframeVideo=function(){function a(a){var b=a.querySelector('iframe[src*="//www.youtube.com"].teka-iframe');b&&b.setAttribute("data-aspectratio","0.5625")}function b(a){var b=a.querySelector('iframe[src*="//www.youtube.com"].teka-iframe');if(b){var c=findAncestor(b,"video-wrapper").offsetWidth;c&&(b.setAttribute("width",c),b.setAttribute("height",c*parseFloat(b.getAttribute("data-aspectratio"))))}}function c(){var c=document.querySelectorAll(".youtube-video-player");forEach(c,function(c,d){var e=getWidth();a(d),b(d),window.addEventListener("resize",function(){var a=getWidth();a!==e&&b(d)},!1)})}return{app:c}}(),play=function(){function a(a){var b=a.querySelector(".play-and-info-contet");b&&b.addEventListener("click",function(){var a=this,b=findAncestor(a,"video-wrapper");if(b)var c=b.querySelector(".background-img"),d=b.querySelector(".black"),e=b.querySelector(".iframe iframe"),f=b.querySelector(".play-and-info-contet");c&&b&&e&&d&&(c.classList.add("disabled-teka-video"),f.classList.add("disabled-teka-video"),b.classList.add("disabled-teka-video"),e.classList.add("active-teka-video"),e.setAttribute("src","https://www.youtube.com/embed/"+b.getAttribute("video-id")+"?autoplay=1"),setTimeout(function(){d.classList.add("disabled-teka-video")},700),setTimeout(function(){c.classList.add("hide-teka-video"),f.classList.add("hide-teka-video"),d.classList.add("hide-teka-video"),b.classList.add("hide-teka-video"),c.classList.remove("disabled-teka-video"),f.classList.remove("disabled-teka-video"),d.classList.remove("disabled-teka-video"),b.classList.remove("disabled-teka-video")},1e3))},!1)}function b(){var b=document.querySelectorAll(".youtube-video-player");forEach(b,function(b,c){a(c)})}return{app:b}}();window.addEventListener("load",function(a){youtubeDOM.app(),responsiveIframeVideo.app(),play.app(),loading()},!1);